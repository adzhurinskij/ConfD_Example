//>>built
define("dojox/charting/plot2d/common","dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(s,t,r,u,w,v){var m=s.getObject("dojox.charting.plot2d.common",!0);return s.mixin(m,{doIfLoaded:v.doIfLoaded,makeStroke:function(b){if(!b)return b;if("string"==typeof b||b instanceof r)b={color:b};return u.makeParameters(u.defaultStroke,b)},augmentColor:function(b,d){var a=new r(b),c=new r(d);c.a=a.a;return c},augmentStroke:function(b,d){var a=
m.makeStroke(b);a&&(a.color=m.augmentColor(a.color,d));return a},augmentFill:function(b,d){new r(d);return"string"==typeof b||b instanceof r?m.augmentColor(b,d):b},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(b,d){for(var a=s.delegate(m.defaultStats),c=0;c<b.length;++c)for(var e=b[c],f=0;f<e.data.length;f++)if(!d(e.data[f])){if("number"==typeof e.data[f]){var f=a.vmin,h=a.vmax;(!("ymin"in
e)||!("ymax"in e))&&t.forEach(e.data,function(c,b){if(!d(c)){var e=b+1,f=c;isNaN(f)&&(f=0);a.hmin=Math.min(a.hmin,e);a.hmax=Math.max(a.hmax,e);a.vmin=Math.min(a.vmin,f);a.vmax=Math.max(a.vmax,f)}})}else{var g=a.hmin,n=a.hmax,f=a.vmin,h=a.vmax;(!("xmin"in e)||!("xmax"in e)||!("ymin"in e)||!("ymax"in e))&&t.forEach(e.data,function(c,b){if(!d(c)){var e="x"in c?c.x:b+1,f=c.y;isNaN(e)&&(e=0);isNaN(f)&&(f=0);a.hmin=Math.min(a.hmin,e);a.hmax=Math.max(a.hmax,e);a.vmin=Math.min(a.vmin,f);a.vmax=Math.max(a.vmax,
f)}});"xmin"in e&&(a.hmin=Math.min(g,e.xmin));"xmax"in e&&(a.hmax=Math.max(n,e.xmax))}"ymin"in e&&(a.vmin=Math.min(f,e.ymin));"ymax"in e&&(a.vmax=Math.max(h,e.ymax));break}return a},calculateBarSize:function(b,d,a){a||(a=1);var c=d.gap,c=(b-2*c)/a;"minBarSize"in d&&(c=Math.max(c,d.minBarSize));"maxBarSize"in d&&(c=Math.min(c,d.maxBarSize));c=Math.max(c,1);return{size:c,gap:(b-c*a)/2}},collectStackedStats:function(b){var d=s.clone(m.defaultStats);if(b.length){d.hmin=Math.min(d.hmin,1);d.hmax=w.foldl(b,
"seed, run -\x3e Math.max(seed, run.data.length)",d.hmax);for(var a=0;a<d.hmax;++a){var c=b[0].data[a],c=c&&("number"==typeof c?c:c.y);isNaN(c)&&(c=0);d.vmin=Math.min(d.vmin,c);for(var e=1;e<b.length;++e){var f=b[e].data[a],f=f&&("number"==typeof f?f:f.y);isNaN(f)&&(f=0);c+=f}d.vmax=Math.max(d.vmax,c)}}return d},curve:function(b,d){var a=b.slice(0);"x"==d&&(a[a.length]=a[0]);return t.map(a,function(c,e){if(0==e)return"M"+c.x+","+c.y;if(isNaN(d)){if("X"==d||"x"==d||"S"==d){var b,h=a[e-1],g=a[e],n,
k,p,l=1/6;1==e?(b="x"==d?a[a.length-2]:h,l=1/3):b=a[e-2];e==a.length-1?(n="x"==d?a[1]:g,l=1/3):n=a[e+1];k=Math.sqrt((g.x-h.x)*(g.x-h.x)+(g.y-h.y)*(g.y-h.y));p=Math.sqrt((g.x-b.x)*(g.x-b.x)+(g.y-b.y)*(g.y-b.y));var m=Math.sqrt((n.x-h.x)*(n.x-h.x)+(n.y-h.y)*(n.y-h.y)),q=p*l,l=m*l;q>k/2&&l>k/2?(q=k/2,l=k/2):q>k/2?(q=k/2,l=k/2*m/p):l>k/2&&(l=k/2,q=k/2*p/m);"S"==d&&(b==h&&(q=0),g==n&&(l=0));k=h.x+q*(g.x-b.x)/p;b=h.y+q*(g.y-b.y)/p;p=g.x-l*(n.x-h.x)/m;h=g.y-l*(n.y-h.y)/m}}else return g=c.x-a[e-1].x,"C"+
(c.x-(d-1)*(g/d))+","+a[e-1].y+" "+(c.x-g/d)+","+c.y+" "+c.x+","+c.y;return"C"+(k+","+b+" "+p+","+h+" "+g.x+","+g.y)}).join(" ")},getLabel:function(b,d,a){return v.doIfLoaded("dojo/number",function(c){return(d?c.format(b,{places:a}):c.format(b))||""},function(){return d?b.toFixed(a):b.toString()})}})});
//# sourceMappingURL=common.js.map